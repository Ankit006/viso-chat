(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[11],{135:function(e,a,t){"use strict";a.a=t.p+"static/media/profile.7f73584e.svg"},138:function(e,a,t){"use strict";function s(e,a){e({type:"errorBar-show",message:a}),setTimeout((function(){e({type:"",message:a})}),1500)}function r(e,a){e({type:"successBar-show",message:a}),setTimeout((function(){e({type:"",message:a})}),1500)}t.d(a,"a",(function(){return s})),t.d(a,"b",(function(){return r}))},139:function(e,a,t){"use strict";t.d(a,"a",(function(){return r})),t.d(a,"b",(function(){return n}));t(0);var s=t(3);function r(e){var a=e.message,t=e.messageType;return Object(s.jsx)("div",{className:"errorBar ".concat(t),children:Object(s.jsx)("p",{children:a})})}function n(e){var a=e.message,t=e.messageType;return Object(s.jsx)("div",{className:"successBar ".concat(t),children:Object(s.jsx)("p",{children:a})})}},146:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var s=t(134),r=t(0),n=t(3);function c(e){var a=e.fieldName,t=e.fieldType,c=e.data,i=e.extraClass,o=void 0===i?"":i,u=Object(r.useState)(""),l=Object(s.a)(u,2),p=l[0],d=l[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{className:"labelValue",children:a}),Object(n.jsx)("input",{className:"inputData ".concat(p," ").concat(o),onChange:c,type:t,onFocus:function(){d("inputDataFocus")},onBlur:function(){d("")}})]})}},246:function(e,a,t){"use strict";t.r(a);var s=t(19),r=t.n(s),n=t(28),c=t(1),i=t(134),o=t(0),u=t(27),l=t(22),p=t.n(l),d=t(166),m=t.n(d),b=t(5),j=t(33),f=t(138),O=t(2),g=t(16),h=t(146),x=t(139),v=t(141),w=t.n(v),y=t(135),N=t(3);a.default=Object(u.b)((function(e){return{}}))((function(e){var a=e.dispatch,t=Object(o.useState)({username:"",email:"",password:"",confirmPassword:""}),s=Object(i.a)(t,2),u=s[0],l=s[1],d=Object(o.useState)({type:"",message:""}),v=Object(i.a)(d,2),I=v[0],T=v[1],k=Object(o.useState)({type:"",message:""}),S=Object(i.a)(k,2),z=S[0],C=S[1],D=Object(o.useState)(""),U=Object(i.a)(D,2),B=U[0],P=U[1],E=Object(o.useState)(""),F=Object(i.a)(E,2),L=F[0],J=F[1],R=Object(o.useState)(y.a),H=Object(i.a)(R,2),V=H[0],q=H[1],A=Object(o.useState)({image:"",publicId:""}),G=Object(i.a)(A,2),K=G[0],M=G[1],Q=Object(b.g)(),W=function(){var e=Object(n.a)(r.a.mark((function e(a){var t,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(URL.createObjectURL(a.target.files[0])),(t=new FormData).append("profile",a.target.files[0]),e.next=5,p.a.post("/api/signUpProfileUpload",t);case 5:"error"===(s=e.sent).data?Object(f.a)(T,s.data.message):(Object(f.b)(C,s.data.message),M({image:s.data.image,publicId:s.data.publicId}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),X=function(){var e=Object(n.a)(r.a.mark((function e(t){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==u.username&&""!==u.email&&""!==u.password&&""!==u.confirmPassword){e.next=4;break}return Object(f.a)(T,"please provide all information"),e.abrupt("return");case 4:if(m.a.isEmail(u.email)){e.next=7;break}return Object(f.a)(T,"invalid email"),e.abrupt("return");case 7:if(u.password===u.confirmPassword){e.next=10;break}return Object(f.a)(T,"password doesn't match"),e.abrupt("return");case 10:return e.next=12,p.a.post("/api/signup",{username:u.username,email:u.email,password:u.password,profileImage:{publicId:K.publicId||"",imageUrl:K.image||""}});case 12:if("error"!==(s=(s=e.sent).data).status){e.next=19;break}return Object(f.a)(T,s.message),e.abrupt("return");case 19:a({type:O.t,payload:{userId:s.userId,username:s.username,email:s.email,profileImage:s.profileImage,follower:s.follower,following:s.following}}),a({type:O.c}),a({type:O.b,payload:s.accessToken}),g.a.auth={accountId:s.userId},g.a.connect(),Q.push("/");case 25:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[Object(N.jsx)("form",{className:"absolute-center",children:Object(N.jsxs)("div",{className:"form-container",children:[Object(N.jsx)("h1",{className:"authHeading text-center",children:"Signup"}),Object(N.jsx)("input",{onChange:W,type:"file",id:"profileImage",hidden:!0}),Object(N.jsx)("label",{className:"horizontal-center mar-top-1 ",htmlFor:"profileImage",children:Object(N.jsx)("img",{src:V,className:"imageUploader",alt:"profile",height:"80",width:"80"})}),Object(N.jsx)(h.a,{data:function(e){l(Object(c.a)(Object(c.a)({},u),{},{username:w.a.sanitize(e.target.value)}))},fieldType:"text",fieldName:"username"}),Object(N.jsx)(h.a,{data:function(e){m.a.isEmail(w.a.sanitize(e.target.value))?P(""):P("inputDataError"),l(Object(c.a)(Object(c.a)({},u),{},{email:w.a.sanitize(e.target.value)}))},fieldType:"email",fieldName:"email",extraClass:B}),Object(N.jsx)(h.a,{data:function(e){l(Object(c.a)(Object(c.a)({},u),{},{password:w.a.sanitize(e.target.value)}))},fieldType:"password",fieldName:"password"}),Object(N.jsx)(h.a,{data:function(e){u.password===w.a.sanitize(e.target.value)?J(""):J("inputDataError"),l(Object(c.a)(Object(c.a)({},u),{},{confirmPassword:w.a.sanitize(e.target.value)}))},fieldType:"password",fieldName:"confirm password",extraClass:L}),Object(N.jsx)("div",{className:"horizontal-center mar-top-1",children:Object(N.jsx)("button",{onClick:X,className:"btn-primary-2",type:"submit",children:"submit"})}),Object(N.jsxs)("p",{className:"text-center para-1-light",children:["don't have an account ?"," ",Object(N.jsx)(j.b,{className:"linkLine-primary",to:"/login",children:"Signup"})]})]})}),Object(N.jsx)(x.a,{message:I.message,messageType:I.type}),Object(N.jsx)(x.b,{message:z.message,messageType:z.type})]})}))}}]);
//# sourceMappingURL=11.48067355.chunk.js.map