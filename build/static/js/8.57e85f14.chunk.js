(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{134:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(43);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(o){c=!0,i=o}finally{try{r||null==s.return||s.return()}finally{if(c)throw i}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},135:function(e,t,n){"use strict";t.a=n.p+"static/media/profile.7f73584e.svg"},136:function(e,t,n){"use strict";n(0);var r=n(33),c=n(27),i=n(135),a=n.p+"static/media/home.205e5c86.svg",s=n.p+"static/media/like.b16558c9.svg",o=n.p+"static/media/search.da3387c7.svg",u=n(3);t.a=Object(c.b)((function(e){return{profileImage:e.userdata.profileImage,notifications:e.saveNotifications.notifications}}))((function(e){var t=e.profileImage,n=e.notifications;return Object(u.jsx)("div",{className:"bottomNav ",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(r.b,{to:"/",children:Object(u.jsx)("img",{src:a,alt:"home",height:"23",width:"23"})}),Object(u.jsx)(r.b,{to:"/search",children:Object(u.jsx)("img",{src:o,alt:"search",height:"23",width:"23"})}),Object(u.jsx)(r.b,{style:{textDecoration:"none"},to:"/notification",children:Object(u.jsxs)("div",{className:"notificationButton",children:[n.length>0?Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:n.length})}):null,Object(u.jsx)("img",{src:s,alt:"like",height:"23",width:"23"})]})}),""===t?Object(u.jsx)(r.b,{to:"/account",children:Object(u.jsx)("img",{src:i.a,alt:"profile",height:"23",width:"23"})}):Object(u.jsx)(r.b,{to:"/account",children:Object(u.jsx)("img",{src:t,className:"rounded",alt:"profile",height:"23",width:"23"})})]})})}))},140:function(e,t,n){"use strict";t.a=n.p+"static/media/Ellipsis-1s-200px.aba39ddd.svg"},251:function(e,t,n){"use strict";n.r(t);var r=n(134),c=n(0),i=n(136),a=n(27),s=n(140),o=n(5),u=n(2),l=n(3);var d=Object(a.b)()((function(e){var t=e.imgUrl,n=e.username,r=e.elementView,c=e.dispatch,i=e.userId,a=Object(o.g)(),s=function(){c({type:u.r,payload:{userId:i,username:n,imgUrl:t}}),a.push("/personalChat")};return Object(l.jsxs)("div",{ref:r,className:"person",children:[Object(l.jsx)("img",{onClick:s,src:t,alt:"person",height:"50",width:"50"}),Object(l.jsx)("p",{onClick:s,children:n})]})})),b=n(19),j=n.n(b),h=n(17),f=n(28),m=n(22),O=n.n(m);var p=function(e,t){var n=Object(c.useState)(!1),i=Object(r.a)(n,2),a=i[0],s=i[1],o=Object(c.useState)(!1),u=Object(r.a)(o,2),l=u[0],d=u[1],b=Object(c.useRef)(!1),m=Object(c.useState)([]),p=Object(r.a)(m,2),g=p[0],v=p[1],x=function(){var e=Object(f.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!1!==b.current&&n>=b.current)){e.next=2;break}return e.abrupt("return");case 2:return s(!0),d(!1),e.next=6,O.a.get("/api/getAllFollowers?skip=".concat(n,"&limit=8"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:"success"===(r=e.sent).data.status?(v((function(e){return[].concat(Object(h.a)(e),Object(h.a)(r.data.data))})),b.current=r.data.numberOfFollowing,s(!1)):"error"===r.data.status&&(s(!1),d(!0));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var t=O.a.CancelToken.source();return x(e),function(){t.cancel()}}),[e]),{loading:a,persons:g,error:l}};t.default=Object(a.b)((function(e){return{accessToken:e.token.accessToken}}))((function(e){var t=e.accessToken,n=Object(c.useState)(0),a=Object(r.a)(n,2),o=a[0],u=a[1],b=Object(c.useRef)(),j=p(o,t),h=j.persons,f=j.loading,m=Object(c.useCallback)((function(e){f||(b.current&&b.current.disconnect(),b.current=new IntersectionObserver((function(e){e[0].isIntersecting&&u((function(e){return e+8}))})),e&&b.current.observe(e))}),[f]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"chat ",children:[Object(l.jsx)("h1",{children:"Chat"}),Object(l.jsxs)("div",{children:[h.map((function(e,t){return t+1===h.length?Object(l.jsx)(d,{username:e.username,imgUrl:e.profileImage.imageUrl,elementView:m,userId:e._id},e._id):Object(l.jsx)(d,{username:e.username,imgUrl:e.profileImage.imageUrl,userId:e._id},e._id)})),Object(l.jsx)("div",{className:"horizontal-center mar-bottom-2",children:f?Object(l.jsx)("img",{src:s.a,alt:"loading",height:"50",width:"100"}):null})]})]}),Object(l.jsx)(i.a,{})]})}))}}]);
//# sourceMappingURL=8.57e85f14.chunk.js.map