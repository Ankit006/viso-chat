(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[5,17],{134:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(43);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],c=!0,a=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(c=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);c=!0);}catch(o){a=!0,r=o}finally{try{c||null==i.return||i.return()}finally{if(a)throw r}}return n}}(e,t)||Object(c.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},135:function(e,t,n){"use strict";t.a=n.p+"static/media/profile.7f73584e.svg"},136:function(e,t,n){"use strict";n(0);var c=n(33),a=n(27),r=n(135),s=n.p+"static/media/home.205e5c86.svg",i=n.p+"static/media/like.b16558c9.svg",o=n.p+"static/media/search.da3387c7.svg",u=n(3);t.a=Object(a.b)((function(e){return{profileImage:e.userdata.profileImage,notifications:e.saveNotifications.notifications}}))((function(e){var t=e.profileImage,n=e.notifications;return Object(u.jsx)("div",{className:"bottomNav ",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(c.b,{to:"/",children:Object(u.jsx)("img",{src:s,alt:"home",height:"23",width:"23"})}),Object(u.jsx)(c.b,{to:"/search",children:Object(u.jsx)("img",{src:o,alt:"search",height:"23",width:"23"})}),Object(u.jsx)(c.b,{style:{textDecoration:"none"},to:"/notification",children:Object(u.jsxs)("div",{className:"notificationButton",children:[n.length>0?Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:n.length})}):null,Object(u.jsx)("img",{src:i,alt:"like",height:"23",width:"23"})]})}),""===t?Object(u.jsx)(c.b,{to:"/account",children:Object(u.jsx)("img",{src:r.a,alt:"profile",height:"23",width:"23"})}):Object(u.jsx)(c.b,{to:"/account",children:Object(u.jsx)("img",{src:t,className:"rounded",alt:"profile",height:"23",width:"23"})})]})})}))},138:function(e,t,n){"use strict";function c(e,t){e({type:"errorBar-show",message:t}),setTimeout((function(){e({type:"",message:t})}),1500)}function a(e,t){e({type:"successBar-show",message:t}),setTimeout((function(){e({type:"",message:t})}),1500)}n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}))},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));n(0);var c=n(3);function a(e){var t=e.message,n=e.messageType;return Object(c.jsx)("div",{className:"errorBar ".concat(n),children:Object(c.jsx)("p",{children:t})})}function r(e){var t=e.message,n=e.messageType;return Object(c.jsx)("div",{className:"successBar ".concat(n),children:Object(c.jsx)("p",{children:t})})}},140:function(e,t,n){"use strict";t.a=n.p+"static/media/Ellipsis-1s-200px.aba39ddd.svg"},142:function(e,t,n){"use strict";var c=n(19),a=n.n(c),r=n(28),s=n(134),i=n(0),o=n(27),u=n(5),l=n(22),d=n.n(l),j=n.p+"static/media/dark-heart.f1f73767.svg",h=n.p+"static/media/heart.fb824694.svg",f=n.p+"static/media/comments.d2e37373.svg",b=n(2),p=n(3);t.a=Object(o.b)((function(e){return{accountId:e.userdata.userId,accessToken:e.token.accessToken}}))((function(e){var t=e.post,n=e.elementView,c=e.accountDetail,o=e.dispatch,l=e.accountId,m=e.accessToken,O=Object(u.g)(),g=Object(i.useState)(!1),x=Object(s.a)(g,2),v=x[0],w=x[1],y=function(){t.userId!==l?(o({type:b.v,payload:t.userId}),O.push("/viewaccount")):O.push("/account")},k=function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,d.a.post("/api/addLike",{postId:t._id},{headers:{Authorization:"Bearer ".concat(m)}});case 3:"success"===e.sent.data.status&&console.log("success");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"card",ref:n,children:["all"===c?Object(p.jsxs)("div",{className:"user",children:[Object(p.jsx)("img",{src:t.profileImg,onClick:y,alt:"profilePic",height:"50",width:"50"}),Object(p.jsx)("p",{onClick:y,children:t.username})]}):null,Object(p.jsxs)("div",{className:"userPost",children:[Object(p.jsx)("img",{src:t.imageUrl,alt:"postPic",width:"500",height:"300"}),Object(p.jsx)("p",{children:t.description})]}),Object(p.jsxs)("div",{className:"commentSection",children:[Object(p.jsx)("span",{onClick:k,children:v?Object(p.jsx)("img",{src:h,alt:"noLike",height:"23",width:"23"}):Object(p.jsx)("img",{src:j,alt:"noLike",height:"23",width:"23"})}),Object(p.jsx)("img",{src:f,alt:"comments",height:"23",width:"23",onClick:function(){o({type:b.u,payload:t}),O.push("/showComments")}})]})]})}))},144:function(e,t,n){"use strict";var c=n(134),a=n(0),r=n(27),s=n(19),i=n.n(s),o=n(17),u=n(28),l=n(22),d=n.n(l);var j=function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=Object(a.useState)(!1),j=Object(c.a)(l,2),h=j[0],f=j[1],b=Object(a.useState)(!1),p=Object(c.a)(b,2),m=p[0],O=p[1],g=Object(a.useRef)(!1),x=Object(a.useState)([]),v=Object(c.a)(x,2),w=v[0],y=v[1],k=function(){var e=Object(u.a)(i.a.mark((function e(c){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!1!==g.current&&c>=g.current)){e.next=2;break}return e.abrupt("return");case 2:if(f(!0),O(!1),"get"!==r){e.next=10;break}return e.next=7,d.a.get("".concat(t,"?skip=").concat(c,"&limit=3"),{headers:{Authorization:"Bearer ".concat(n)}});case 7:a=e.sent,e.next=14;break;case 10:if("post"!==r){e.next=14;break}return e.next=13,d.a.post("".concat(t,"?skip=").concat(c,"&limit=3"),s,{headers:{Authorization:"Bearer ".concat(n)}});case 13:a=e.sent;case 14:"success"===a.data.status?(y((function(e){return[].concat(Object(o.a)(e),Object(o.a)(a.data.message))})),g.current=a.data.numberOfDocuments,f(!1)):"error"===a.data.status&&(f(!1),O(!0));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var t=d.a.CancelToken.source();return k(e),function(){t.cancel()}}),[e]),{loading:h,posts:w,error:m}},h=n(142),f=n(140),b=n(3);t.a=Object(r.b)((function(e){return{accessToken:e.token.accessToken}}))((function(e){var t=e.api,n=e.marginTop,r=e.accountDetail,s=e.accessToken,i=e.method,o=e.jsonData,u=Object(a.useState)(0),l=Object(c.a)(u,2),d=l[0],p=l[1],m=Object(a.useRef)(),O=j(d,t,s,i,o),g=O.loading,x=O.posts,v=(O.error,Object(a.useCallback)((function(e){g||(m.current&&m.current.disconnect(),m.current=new IntersectionObserver((function(e){e[0].isIntersecting&&p((function(e){return e+3}))})),e&&m.current.observe(e))}),[g]));return Object(b.jsxs)("div",{className:"card-container",style:{marginTop:n},children:[x.map((function(e,t){return t+1===x.length?Object(b.jsx)(h.a,{accountDetail:r,post:e,elementView:v},e._id):Object(b.jsx)(h.a,{accountDetail:r,post:e},e._id)})),Object(b.jsx)("div",{className:"horizontal-center mar-bottom-2",children:g?Object(b.jsx)("img",{src:f.a,alt:"loading",height:"50",width:"100"}):null})]})}))},150:function(e,t,n){"use strict";var c=n(134),a=n(0),r=n(144),s=n(27),i=n(138),o=n(139),u=n(19),l=n.n(u),d=n(28),j=n(22),h=n.n(j),f=n(2),b=n(16),p=function(){var e=Object(d.a)(l.a.mark((function e(t,n,c,a,r,s,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),i({type:f.f}),e.next=4,h.a.post("/api/follow",{follower:t,following:n},{headers:{Authorization:"Bearer ".concat(c)}});case 4:if("error"!==e.sent.data.status){e.next=10;break}return a(r,"server error"),s(!1),i({type:f.m}),e.abrupt("return");case 10:b.a.emit("follow",{follower:t,following:n});case 11:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,s,i){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(l.a.mark((function e(t,n,c,a,r,s,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),i({type:f.m}),e.next=4,h.a.post("/api/unfollow",{follower:t,following:n},{headers:{Authorization:"Bearer ".concat(c)}});case 4:"error"===e.sent.data.status&&(a(r,"server error"),s(!0),i({type:f.f}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,s,i){return e.apply(this,arguments)}}(),O=n(33),g=n(5),x=n(3);t.a=Object(s.b)((function(e){return{accessToken:e.token.accessToken,login:e.loginState.login}}))((function(e){var t=e.username,n=e.profileImage,s=e.follower,u=e.following,l=e.api,d=e.personalAccount,j=e.method,h=e.jsonData,f=e.accountId,b=e.otherUserId,v=e.isFollowing,w=e.accessToken,y=e.dispatch,k=e.login,I=e.gotoPrivateChat,N=Object(a.useState)(v),T=Object(c.a)(N,2),S=T[0],C=T[1],D=Object(a.useState)({type:"",message:""}),A=Object(c.a)(D,2),B=A[0],U=A[1],F=Object(g.g)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"account",children:[Object(x.jsx)("div",{className:"account-details",children:Object(x.jsxs)("div",{className:"userInfo",children:[Object(x.jsxs)("div",{className:"user-details",children:[Object(x.jsx)("img",{src:n,className:"rounded",alt:"profileImg",height:"70",width:"70"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"text-center",children:s}),Object(x.jsx)("p",{children:"Follower"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"text-center",children:u}),Object(x.jsx)("p",{children:"Following"})]})]}),Object(x.jsx)("h3",{className:"account-name",children:t}),d?Object(x.jsx)(O.b,{to:"/settings",children:Object(x.jsx)("button",{className:"btn-full-primary",children:"account setting"})}):null,d?null:Object(x.jsx)("button",{onClick:I,className:"btn-full-primary",children:"chat"}),d?null:S?Object(x.jsx)("button",{className:"btn-full-caution",onClick:function(){m(f,b,w,i.a,U,C,y)},children:"unfollow"}):Object(x.jsx)("button",{className:"btn-full-secondary",onClick:function(){k||F.push("/login"),p(f,b,w,i.a,U,C,y)},children:"follow"})]})}),Object(x.jsx)("div",{className:"mar-top-1",children:Object(x.jsx)(r.a,{api:l,marginTop:"0px",accountDetail:"personal",method:j,jsonData:h})})]}),Object(x.jsx)(o.a,{message:B.message,messageType:B.type})]})}))},165:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));n(0);var c=n(44),a=n(3);function r(){return Object(a.jsx)("div",{className:"absolute-center",children:Object(a.jsx)("img",{src:c.a,alt:"preloader",width:"100",height:"100"})})}},248:function(e,t,n){"use strict";n.r(t);var c=n(19),a=n.n(c),r=n(28),s=n(134),i=n(0),o=n(5),u=n(136),l=n(150),d=n(27),j=n(22),h=n.n(j),f=n(165),b=n(2),p=n(3);t.default=Object(d.b)((function(e){return{otherUserId:e.viewAccount.accountView,accountId:e.userdata.userId}}))((function(e){var t=e.otherUserId,n=e.accountId,c=e.dispatch,d=Object(i.useState)(null),j=Object(s.a)(d,2),m=j[0],O=j[1],g=Object(o.g)(),x=Object(i.useRef)(!0),v=function(){var e=Object(r.a)(a.a.mark((function e(){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/otherUserInfo",{otherUserId:t,accountId:n});case 2:"success"===(c=e.sent).data.status?O(c.data):g.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return x.current=!0,v(),function(){x.current=!1}}),[]),Object(p.jsx)(p.Fragment,{children:null!==m?Object(p.jsxs)("div",{children:[Object(p.jsx)(l.a,{api:"/api/otherUserPost",jsonData:{id:t,accountId:n},method:"post",username:m.username,profileImage:m.profileImage,follower:m.follower,following:m.following,isFollowing:m.isFollowing,personalAccount:!1,accountId:n,otherUserId:t,gotoPrivateChat:function(){c({type:b.r,payload:{userId:m.userId,username:m.username,imgUrl:m.profileImage}}),g.push("/personalChat")}}),Object(p.jsx)(u.a,{})]}):Object(p.jsx)(f.default,{})})}))}}]);
//# sourceMappingURL=5.39f05f1c.chunk.js.map