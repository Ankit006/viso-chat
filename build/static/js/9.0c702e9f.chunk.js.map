{"version":3,"sources":["img/profile.svg","img/home.svg","img/like.svg","img/search.svg","components/BottomNavBar.js","modules/notificationBarControl.js","components/notification.js","components/ProgrssBar.js","img/camera.svg","screens/Post.js"],"names":["connect","state","profileImage","userdata","notifications","saveNotifications","className","to","src","home","alt","height","width","search","style","textDecoration","length","like","profile","errorBarControl","setError","message","type","setTimeout","successBarControl","setSuccess","ErrorBar","messageType","SuccessBar","ProgrssBar","complete","accessToken","token","useState","imgPlaceHolder","imgHolder","setImgHolder","postImg","setPostImg","story","setStory","loading","setLoading","uploadProgress","setUploadProgess","error","success","uploadPost","a","postData","FormData","append","axios","post","headers","Authorization","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","res","console","log","data","status","onChange","e","target","files","URL","createObjectURL","id","hidden","htmlFor","DOMPurify","sanitize","value","onClick","BottomNavBar"],"mappings":"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","file":"static/js/9.0c702e9f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/profile.7f73584e.svg\";","export default __webpack_public_path__ + \"static/media/home.205e5c86.svg\";","export default __webpack_public_path__ + \"static/media/like.b16558c9.svg\";","export default __webpack_public_path__ + \"static/media/search.da3387c7.svg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n// icons\r\nimport profile from \"../img/profile.svg\";\r\nimport home from \"../img/home.svg\";\r\nimport like from \"../img/like.svg\";\r\nimport search from \"../img/search.svg\";\r\n\r\nfunction BottomNavBar({ profileImage, notifications }) {\r\n  return (\r\n    <div className=\"bottomNav \">\r\n      <div>\r\n        <Link to=\"/\">\r\n          <img src={home} alt=\"home\" height=\"23\" width=\"23\" />\r\n        </Link>\r\n        <Link to=\"/search\">\r\n          <img src={search} alt=\"search\" height=\"23\" width=\"23\" />\r\n        </Link>\r\n        <Link style={{ textDecoration: \"none\" }} to=\"/notification\">\r\n          <div className=\"notificationButton\">\r\n            {notifications.length > 0 ? (\r\n              <div>\r\n                <p>{notifications.length}</p>\r\n              </div>\r\n            ) : null}\r\n            <img src={like} alt=\"like\" height=\"23\" width=\"23\" />\r\n          </div>\r\n        </Link>\r\n        {profileImage === \"\" ? (\r\n          <Link to=\"/account\">\r\n            <img src={profile} alt=\"profile\" height=\"23\" width=\"23\" />\r\n          </Link>\r\n        ) : (\r\n          <Link to=\"/account\">\r\n            <img\r\n              src={profileImage}\r\n              className=\"rounded\"\r\n              alt=\"profile\"\r\n              height=\"23\"\r\n              width=\"23\"\r\n            />\r\n          </Link>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    profileImage: state.userdata.profileImage,\r\n    notifications: state.saveNotifications.notifications,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(BottomNavBar);\r\n","export function errorBarControl(setError, message) {\r\n  setError({ type: \"errorBar-show\", message });\r\n  setTimeout(() => {\r\n    setError({ type: \"\", message });\r\n  }, 1500);\r\n}\r\n\r\nexport function successBarControl(setSuccess, message) {\r\n  setSuccess({ type: \"successBar-show\", message });\r\n  setTimeout(() => {\r\n    setSuccess({ type: \"\", message });\r\n  }, 1500);\r\n}\r\n","import React from \"react\";\r\n\r\nexport function ErrorBar({ message, messageType }) {\r\n  return (\r\n    <div className={`errorBar ${messageType}`}>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function SuccessBar({ message, messageType }) {\r\n  return (\r\n    <div className={`successBar ${messageType}`}>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\n\nexport default function ProgrssBar({ complete }) {\n  return (\n    <div className=\"progrssBar-container\">\n      <div style={{ width: `${complete}%` }} className=\"fillerStyle\">\n        <span className=\"labelStyle\">{`${complete}%`}</span>\n      </div>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/camera.c009394b.svg\";","import React, { useState } from \"react\";\nimport BottomNavBar from \"../components/BottomNavBar\";\nimport { connect } from \"react-redux\";\nimport ProgressBar from \"../components/ProgrssBar\";\nimport {\n  errorBarControl,\n  successBarControl,\n} from \"../modules/notificationBarControl\";\nimport { ErrorBar, SuccessBar } from \"../components/notification\";\n//placeholderImage\nimport imgPlaceHolder from \"../img/camera.svg\";\n\nimport axios from \"axios\";\nimport DOMPurify from \"dompurify\";\n\nfunction Post({ accessToken }) {\n  const [imgHolder, setImgHolder] = useState(imgPlaceHolder);\n  const [postImg, setPostImg] = useState();\n  const [story, setStory] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [uploadProgress, setUploadProgess] = useState(0);\n  const [error, setError] = useState({ type: \"\", message: \"\" });\n  const [success, setSuccess] = useState({ type: \"\", message: \"\" });\n\n  const handlePostImg = (e) => {\n    setPostImg(e.target.files[0]);\n    setImgHolder(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const handleStory = (e) => {\n    setStory(DOMPurify.sanitize(e.target.value));\n  };\n\n  const uploadPost = async () => {\n    setLoading(true);\n    const postData = new FormData();\n    postData.append(\"post\", postImg);\n    postData.append(\"story\", story);\n    const res = await axios.post(`/api/posts`, postData, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n      },\n      onUploadProgress: function (progressEvent) {\n        var percentCompleted = Math.round(\n          (progressEvent.loaded * 100) / progressEvent.total\n        );\n        setUploadProgess(percentCompleted);\n      },\n    });\n\n    console.log(res.data);\n\n    if (res.data.status === \"success\") {\n      setLoading(false);\n      successBarControl(setSuccess, \"upload successfully\");\n    } else if (res.data.status === \"error\") {\n      setLoading(false);\n      errorBarControl(setError, \"error while uploading post\");\n    }\n  };\n\n  return (\n    <>\n      <div className=\"post\">\n        <div className=\"postImageUpload\">\n          <input type=\"file\" onChange={handlePostImg} id=\"postImage\" hidden />\n          <label htmlFor=\"postImage\">\n            <img\n              src={imgHolder}\n              className=\"\"\n              alt=\"postImg\"\n              height=\"100\"\n              width=\"150\"\n            />\n          </label>\n        </div>\n        <textarea onChange={handleStory} value={story} />\n        <button onClick={uploadPost}>post</button>\n        {loading ? <ProgressBar complete={uploadProgress} /> : null}\n      </div>\n\n      <BottomNavBar />\n      <ErrorBar message={error.message} messageType={error.type} />\n      <SuccessBar message={success.message} messageType={success.type} />\n    </>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    accessToken: state.token.accessToken,\n  };\n}\n\nexport default connect(mapStateToProps)(Post);\n"],"sourceRoot":""}