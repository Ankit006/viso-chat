(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{134:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));var n=c(43);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var c=[],n=!0,a=!1,s=void 0;try{for(var i,r=t[Symbol.iterator]();!(n=(i=r.next()).done)&&(c.push(i.value),!e||c.length!==e);n=!0);}catch(o){a=!0,s=o}finally{try{n||null==r.return||r.return()}finally{if(a)throw s}}return c}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},135:function(t,e,c){"use strict";e.a=c.p+"static/media/profile.7f73584e.svg"},136:function(t,e,c){"use strict";c(0);var n=c(33),a=c(27),s=c(135),i=c.p+"static/media/home.205e5c86.svg",r=c.p+"static/media/like.b16558c9.svg",o=c.p+"static/media/search.da3387c7.svg",u=c(3);e.a=Object(a.b)((function(t){return{profileImage:t.userdata.profileImage,notifications:t.saveNotifications.notifications}}))((function(t){var e=t.profileImage,c=t.notifications;return Object(u.jsx)("div",{className:"bottomNav ",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(n.b,{to:"/",children:Object(u.jsx)("img",{src:i,alt:"home",height:"23",width:"23"})}),Object(u.jsx)(n.b,{to:"/search",children:Object(u.jsx)("img",{src:o,alt:"search",height:"23",width:"23"})}),Object(u.jsx)(n.b,{style:{textDecoration:"none"},to:"/notification",children:Object(u.jsxs)("div",{className:"notificationButton",children:[c.length>0?Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:c.length})}):null,Object(u.jsx)("img",{src:r,alt:"like",height:"23",width:"23"})]})}),""===e?Object(u.jsx)(n.b,{to:"/account",children:Object(u.jsx)("img",{src:s.a,alt:"profile",height:"23",width:"23"})}):Object(u.jsx)(n.b,{to:"/account",children:Object(u.jsx)("img",{src:e,className:"rounded",alt:"profile",height:"23",width:"23"})})]})})}))},140:function(t,e,c){"use strict";e.a=c.p+"static/media/Ellipsis-1s-200px.aba39ddd.svg"},142:function(t,e,c){"use strict";var n=c(19),a=c.n(n),s=c(28),i=c(134),r=c(0),o=c(27),u=c(5),l=c(22),d=c.n(l),j=c.p+"static/media/dark-heart.f1f73767.svg",h=c.p+"static/media/heart.fb824694.svg",b=c.p+"static/media/comments.d2e37373.svg",p=c(2),f=c(3);e.a=Object(o.b)((function(t){return{accountId:t.userdata.userId,accessToken:t.token.accessToken}}))((function(t){var e=t.post,c=t.elementView,n=t.accountDetail,o=t.dispatch,l=t.accountId,m=t.accessToken,O=Object(u.g)(),g=Object(r.useState)(!1),x=Object(i.a)(g,2),v=x[0],k=x[1],w=function(){e.userId!==l?(o({type:p.v,payload:e.userId}),O.push("/viewaccount")):O.push("/account")},y=function(){var t=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.next=3,d.a.post("/api/addLike",{postId:e._id},{headers:{Authorization:"Bearer ".concat(m)}});case 3:"success"===t.sent.data.status&&console.log("success");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"card",ref:c,children:["all"===n?Object(f.jsxs)("div",{className:"user",children:[Object(f.jsx)("img",{src:e.profileImg,onClick:w,alt:"profilePic",height:"50",width:"50"}),Object(f.jsx)("p",{onClick:w,children:e.username})]}):null,Object(f.jsxs)("div",{className:"userPost",children:[Object(f.jsx)("img",{src:e.imageUrl,alt:"postPic",width:"500",height:"300"}),Object(f.jsx)("p",{children:e.description})]}),Object(f.jsxs)("div",{className:"commentSection",children:[Object(f.jsx)("span",{onClick:y,children:v?Object(f.jsx)("img",{src:h,alt:"noLike",height:"23",width:"23"}):Object(f.jsx)("img",{src:j,alt:"noLike",height:"23",width:"23"})}),Object(f.jsx)("img",{src:b,alt:"comments",height:"23",width:"23",onClick:function(){o({type:p.u,payload:e}),O.push("/showComments")}})]})]})}))},144:function(t,e,c){"use strict";var n=c(134),a=c(0),s=c(27),i=c(19),r=c.n(i),o=c(17),u=c(28),l=c(22),d=c.n(l);var j=function(t,e,c,s){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=Object(a.useState)(!1),j=Object(n.a)(l,2),h=j[0],b=j[1],p=Object(a.useState)(!1),f=Object(n.a)(p,2),m=f[0],O=f[1],g=Object(a.useRef)(!1),x=Object(a.useState)([]),v=Object(n.a)(x,2),k=v[0],w=v[1],y=function(){var t=Object(u.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!1!==g.current&&n>=g.current)){t.next=2;break}return t.abrupt("return");case 2:if(b(!0),O(!1),"get"!==s){t.next=10;break}return t.next=7,d.a.get("".concat(e,"?skip=").concat(n,"&limit=3"),{headers:{Authorization:"Bearer ".concat(c)}});case 7:a=t.sent,t.next=14;break;case 10:if("post"!==s){t.next=14;break}return t.next=13,d.a.post("".concat(e,"?skip=").concat(n,"&limit=3"),i,{headers:{Authorization:"Bearer ".concat(c)}});case 13:a=t.sent;case 14:"success"===a.data.status?(w((function(t){return[].concat(Object(o.a)(t),Object(o.a)(a.data.message))})),g.current=a.data.numberOfDocuments,b(!1)):"error"===a.data.status&&(b(!1),O(!0));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=d.a.CancelToken.source();return y(t),function(){e.cancel()}}),[t]),{loading:h,posts:k,error:m}},h=c(142),b=c(140),p=c(3);e.a=Object(s.b)((function(t){return{accessToken:t.token.accessToken}}))((function(t){var e=t.api,c=t.marginTop,s=t.accountDetail,i=t.accessToken,r=t.method,o=t.jsonData,u=Object(a.useState)(0),l=Object(n.a)(u,2),d=l[0],f=l[1],m=Object(a.useRef)(),O=j(d,e,i,r,o),g=O.loading,x=O.posts,v=(O.error,Object(a.useCallback)((function(t){g||(m.current&&m.current.disconnect(),m.current=new IntersectionObserver((function(t){t[0].isIntersecting&&f((function(t){return t+3}))})),t&&m.current.observe(t))}),[g]));return Object(p.jsxs)("div",{className:"card-container",style:{marginTop:c},children:[x.map((function(t,e){return e+1===x.length?Object(p.jsx)(h.a,{accountDetail:s,post:t,elementView:v},t._id):Object(p.jsx)(h.a,{accountDetail:s,post:t},t._id)})),Object(p.jsx)("div",{className:"horizontal-center mar-bottom-2",children:g?Object(p.jsx)("img",{src:b.a,alt:"loading",height:"50",width:"100"}):null})]})}))},250:function(t,e,c){"use strict";c.r(e);c(0);var n=c(33),a=c.p+"static/media/paper-plane.ee9b5c8a.svg",s=c.p+"static/media/chats.a5932087.svg",i=c(3);function r(){return Object(i.jsx)("div",{className:"upperNav",children:Object(i.jsxs)("div",{children:[Object(i.jsx)(n.b,{to:"/post",children:Object(i.jsx)("img",{src:a,alt:"post",height:"23",width:"23"})}),Object(i.jsx)("h1",{children:"Viso"}),Object(i.jsx)(n.b,{to:"/chat",children:Object(i.jsx)("img",{src:s,alt:"post",height:"23",width:"23"})})]})})}var o=c(144),u=c(136);e.default=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(r,{}),Object(i.jsx)("div",{className:"home",children:Object(i.jsx)(o.a,{api:"/api/getPosts",marginTop:"80px",accountDetail:"all",method:"get"})}),Object(i.jsx)(u.a,{})]})}}}]);
//# sourceMappingURL=7.5a899345.chunk.js.map